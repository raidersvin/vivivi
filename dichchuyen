local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

-- Ch·ªù nh√¢n v·∫≠t xu·∫•t hi·ªán tr∆∞·ªõc khi ki·ªÉm tra
local function waitForCharacter()
    while not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") do
        player.CharacterAdded:Wait()
    end
    return player.Character
end

-- H√†m d·ªãch chuy·ªÉn nh√¢n v·∫≠t ƒë·∫øn t·ªça ƒë·ªô ch·ªâ ƒë·ªãnh
local function teleportCharacter(x, y, z)
    local character = waitForCharacter()
    local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")

    if humanoidRootPart then
        humanoidRootPart.CFrame = CFrame.new(x, y, z)
        updateStatus("‚úÖ ƒê√£ d·ªãch chuy·ªÉn ƒë·∫øn: X=" .. x .. ", Y=" .. y .. ", Z=" .. z)
    end
end

-- T·∫°o UI hi·ªÉn th·ªã tr·∫°ng th√°i ·ªü gi·ªØa m√†n h√¨nh
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(0, 400, 0, 50)
statusLabel.Position = UDim2.new(0.5, -200, 0.5, -25) -- Gi·ªØa m√†n h√¨nh
statusLabel.BackgroundTransparency = 0.4
statusLabel.BackgroundColor3 = Color3.new(0, 0, 0)
statusLabel.TextColor3 = Color3.new(1, 1, 1)
statusLabel.TextScaled = true
statusLabel.Font = Enum.Font.SourceSansBold
statusLabel.Text = "üõ†Ô∏è Ki·ªÉm tra tr·∫°ng th√°i..."
statusLabel.Parent = screenGui

-- H√†m c·∫≠p nh·∫≠t n·ªôi dung c·ªßa UI
local function updateStatus(text)
    statusLabel.Text = text
end

-- Ki·ªÉm tra v·ªã tr√≠ nh√¢n v·∫≠t m·ªói 5 gi√¢y, n·∫øu ƒë·ª©ng y√™n 10 l·∫ßn li√™n ti·∫øp th√¨ d·ªãch chuy·ªÉn
task.spawn(function()
    local lastPosition = nil
    local stillCount = 0 -- ƒê·∫øm s·ªë l·∫ßn nh√¢n v·∫≠t ƒë·ª©ng y√™n li√™n ti·∫øp

    while true do
        local character = player.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            local humanoidRootPart = character.HumanoidRootPart
            local currentPosition = humanoidRootPart.Position

            -- So s√°nh v·ªã tr√≠ hi·ªán t·∫°i v·ªõi l·∫ßn ki·ªÉm tra tr∆∞·ªõc ƒë√≥
            if lastPosition and (currentPosition - lastPosition).Magnitude < 1 then
                stillCount = stillCount + 1
                updateStatus("‚ö†Ô∏è Nh√¢n v·∫≠t ƒë·ª©ng y√™n l·∫ßn th·ª©: " .. stillCount)

                -- N·∫øu ƒë·ª©ng y√™n 10 l·∫ßn li√™n ti·∫øp, d·ªãch chuy·ªÉn
                if stillCount >= 10 then
                    updateStatus("‚è© Nh√¢n v·∫≠t ƒë√£ ƒë·ª©ng y√™n qu√° l√¢u, d·ªãch chuy·ªÉn...")
                    teleportCharacter(-540, 109, -5704)
                    stillCount = 0 -- Reset b·ªô ƒë·∫øm v√† ti·∫øp t·ª•c ki·ªÉm tra l·∫°i
                end
            else
                stillCount = 0 -- Reset b·ªô ƒë·∫øm n·∫øu nh√¢n v·∫≠t di chuy·ªÉn
                updateStatus("‚úÖ Nh√¢n v·∫≠t v·∫´n di chuy·ªÉn...")
            end

            lastPosition = currentPosition
        end

        task.wait(5) -- Ki·ªÉm tra m·ªói 5 gi√¢y
    end
end)
